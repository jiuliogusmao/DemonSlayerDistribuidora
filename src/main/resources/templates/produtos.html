<!DOCTYPE html>
<html lang="pt-br">

<head>
	<meta charset="UTF-8">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

	<title>Listagem de produtos</title>
</head>

<body style="background-color: #F04717">
	<header>
		<nav class="navbar navbar-expand-lg" style="background-color: #B63319" data-bs-theme="dark">
			<div class="container-fluid">
				<a class="navbar-brand" href="/"> <img src="./imagens/demon_slayer_logo.png" style="width: 80px">
				</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
					aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav">
						<li class="nav-item"><a class="nav-link" aria-current="page" href="/">Início</a></li>
						<li class="nav-item"><a class="nav-link" href="/produto">Listar
								Produtos</a></li>
						<li class="nav-item"><a class="nav-link" href="/cadastrarProduto">Cadastrar Produto</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<div class="container">

		<div class="card" th:each="produto : ${produtos}"
			style="margin: 15px 0px; width: 100%; background-color: #2B3E3D; color: white">
			<div class="card-header" th:text="${produto.nome}"></div>
			<div class="card-body">
				<div class="row">
					<div class="col">
						<div>
							Preço: R$<span
								th:text="${#numbers.formatDecimal(produto.preco, 1, 'DEFAULT', 2, 'DEFAULT')}"></span>
						</div>
						<div>
							Quantidade: <span th:text="${produto.quantidade}"></span>
						</div>
						<div>
							Descrição:
							<h5 th:text="${produto.descricao}"></h5>
						</div>
					</div>
					<div class="col">
						<img alt="imagem do produto" th:src="${produto.urlImagem}" src="" class="img-thumbnail" style="width: 500px">
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col" style="margin: 0px 0px 10px 50px">
					<a th:href="@{/editar/{id}(id=${produto.id})}" class="btn btn-primary">Editar</a>
					<button data-bs-toggle="modal" class="btn btn-danger"
						th:attr="data-bs-target='#modalExcluir'+${produto.id}">Excluir</button>
				</div>
			</div>
			<div class="modal" tabindex="-1" th:attr="id='modalExcluir'+${produto.id}">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header" style="background-color: #2B3E3D;">
							<h5 class="modal-title">Excluir produto?</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body" style="background-color: #2B3E3D;">
							<p>
								Deseja realmente excluir o produto: <strong><span
										th:text="${produto.nome}"></span>?</strong>
							</p>
						</div>
						<div class="modal-footer" style="background-color: #2B3E3D;">
							<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
							<a th:href="@{/excluir/{id}(id=${produto.id})}" type="button"
								class="btn btn-danger">Confirmar</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="imagem" style="display: flex; justify-content: center;">
		<img alt="" src="./imagens/fundo.png">
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
		crossorigin="anonymous"></script>
</body>

</html>